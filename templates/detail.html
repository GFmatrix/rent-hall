{% extends "base.html" %}
{% load static %}
{% load custom_tags %}
{% block content %}

{% include "header.html" %}

    <main class="main__content_wrapper">
        
         <!-- Hero section -->
         <section class="listing__hero--section">
            <div class="listing__hero--section__inner position-relative">
                <div class="listing__hero--slider">
                    <div class="swiper hero__swiper--column1">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                                <div class=" listing__hero--slider__items position-relative">
                                  <img class="listing__hero--slider__media w-100" src="{{ hall.image.url }}" alt="img">
                                  <div class="listing__hero--slider__container">
                                      <div class="container">
                                      <!-- Hero Content -->
                                      <div class="listing__hero--slider__content">
                                          <div class="listing__hero--slider__content--top d-flex align-items-center justify-content-between">
                                              <h3 class="listing__hero--slider__title">{{ hall.name }}</h3>
                                              <span class="listing__hero--slider__price">{{ hall.price|intcomma }} so'm</span>
                                          </div>
                                          <p class="listing__hero--slider__text"><svg width="11" height="17" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                          <path d="M5.48287 0C2.45013 0 0 2.4501 0 5.48288C0 5.85982 0.0343013 6.21958 0.102785 6.57945C0.514031 9.69783 4.42055 11.9767 5.51712 16.4144C6.5966 12.0452 11 8.824 11 5.48288H10.9657C10.9657 2.45013 8.51548 0 5.48282 0H5.48287ZM5.48287 2.17592C7.21338 2.17592 8.61839 3.58097 8.61839 5.31144C8.61839 7.04191 7.21335 8.44696 5.48287 8.44696C3.7524 8.44696 2.34736 7.04191 2.34736 5.31144C2.34736 3.58097 3.75228 2.17592 5.48287 2.17592Z" fill="#FA4B4A"/>
                                          </svg>
                                         {{ hall.location }}</p>
                                      </div>
                                      <!-- Hero Content .\ -->
                                      </div>
                                  </div>
                                </div>
                            </div>
                            {% for slide in hall.images.all %}
                            <div class="swiper-slide">
                                <div class=" listing__hero--slider__items position-relative">
                                  <img class="listing__hero--slider__media w-100" src="{{ slide.image.url }}" alt="img">
                                  <div class="listing__hero--slider__container">
                                      <div class="container">
                                      <!-- Hero Content -->
                                      <div class="listing__hero--slider__content">
                                          <div class="listing__hero--slider__content--top d-flex align-items-center justify-content-between">
                                              <h3 class="listing__hero--slider__title">{{ hall.name }}</h3>
                                              <span class="listing__hero--slider__price">{{ hall.price|intcomma }} so'm</span>
                                          </div>
                                          <p class="listing__hero--slider__text"><svg width="11" height="17" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                          <path d="M5.48287 0C2.45013 0 0 2.4501 0 5.48288C0 5.85982 0.0343013 6.21958 0.102785 6.57945C0.514031 9.69783 4.42055 11.9767 5.51712 16.4144C6.5966 12.0452 11 8.824 11 5.48288H10.9657C10.9657 2.45013 8.51548 0 5.48282 0H5.48287ZM5.48287 2.17592C7.21338 2.17592 8.61839 3.58097 8.61839 5.31144C8.61839 7.04191 7.21335 8.44696 5.48287 8.44696C3.7524 8.44696 2.34736 7.04191 2.34736 5.31144C2.34736 3.58097 3.75228 2.17592 5.48287 2.17592Z" fill="#FA4B4A"/>
                                          </svg>
                                         {{ hall.location }}</p>
                                      </div>
                                      <!-- Hero Content .\ -->
                                      </div>
                                  </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Hero swiper -->
                <div class="listing__small--hero__slider">
                    <div class="swiper hero__swiper--column3">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide">
                              <!-- Hero swiper items -->
                              <div class="listing__small--hero__slider--items">
                                  <img src="{{ hall.image.url }}" alt="img">
                              </div>
                              <!-- Hero swiper items .\ -->
                            </div>
                            {% for slide in hall.images.all %}
                              <div class="swiper-slide">
                                <!-- Hero swiper items -->
                                <div class="listing__small--hero__slider--items">
                                    <img src="{{ slide.image.url }}" alt="img">
                                </div>
                                <!-- Hero swiper items .\ -->
                              </div>
                            {% endfor %}
                        </div>
                    </div>
                    <div class="swiper__nav--btn swiper-button-disabled swiper-button-prev">
                        <svg width="16" height="13" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.223772 5.27955L5.27967 0.223543C5.42399 0.0792188 5.61635 0 5.82145 0C6.02678 0 6.21902 0.0793326 6.36335 0.223543L6.82238 0.682693C6.96659 0.82679 7.04604 1.01926 7.04604 1.22448C7.04604 1.42958 6.96659 1.62854 6.82238 1.77264L3.87285 4.72866H13.2437C13.6662 4.72866 14 5.05942 14 5.48203V6.13115C14 6.55376 13.6662 6.91788 13.2437 6.91788H3.83939L6.82227 9.8904C6.96648 10.0347 7.04593 10.222 7.04593 10.4272C7.04593 10.6322 6.96648 10.8221 6.82227 10.9663L6.36323 11.424C6.21891 11.5683 6.02667 11.647 5.82134 11.647C5.61623 11.647 5.42388 11.5673 5.27955 11.423L0.223659 6.3671C0.0789928 6.22232 -0.000566483 6.02905 1.90735e-06 5.82361C-0.000452995 5.61748 0.0789928 5.4241 0.223772 5.27955Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="swiper__nav--btn swiper-button-next">
                        <svg width="16" height="13" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M13.7762 5.27955L8.72033 0.223543C8.57601 0.0792188 8.38365 0 8.17855 0C7.97322 0 7.78098 0.0793326 7.63665 0.223543L7.17762 0.682693C7.03341 0.82679 6.95396 1.01926 6.95396 1.22448C6.95396 1.42958 7.03341 1.62854 7.17762 1.77264L10.1272 4.72866H0.756335C0.333835 4.72866 0 5.05942 0 5.48203V6.13115C0 6.55376 0.333835 6.91788 0.756335 6.91788H10.1606L7.17773 9.8904C7.03352 10.0347 6.95407 10.222 6.95407 10.4272C6.95407 10.6322 7.03352 10.8221 7.17773 10.9663L7.63677 11.424C7.78109 11.5683 7.97333 11.647 8.17866 11.647C8.38377 11.647 8.57612 11.5673 8.72045 11.423L13.7763 6.3671C13.921 6.22232 14.0006 6.02905 14 5.82361C14.0005 5.61748 13.921 5.4241 13.7762 5.27955Z" fill="currentColor"/>
                        </svg>
                    </div>
                </div>
                <!-- Hero swiper .\ -->
            </div>
        </section>
        <!-- Hero section .\ -->

        <!-- Listing details section -->
        <section class="listing__details--section section--padding">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        {% if messages %}
                        <div class="alert alert-danger text-center mb-20 w-100" role="alert">
                            {% for message in messages %}
                                <p>{{ message }}</p>
                            {% endfor %}
                        </div>
                        {% endif %}
                        <div class="listing__details--wrapper">
                            <div class="listing__details--content">
                                <div class="listing__details--content__top mb-25 d-flex align-items-center justify-content-between">
                                    <div class="listing__details--meta">
                                        <ul class="listing__details--meta__wrapper d-flex align-items-center">
                                            <li><span class="listing__details--badge">{% if hall.availability %}
                                            Mavjud
                                            {% else %}Mavjud emas
                                            {% endif %}</span></li>
                                            <li>
                                                <span class="listing__details--meta__icon">
                                                    <svg width="13" height="15" viewBox="0 0 13 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M1 13.0469H3.25V10.7969H1V13.0469ZM3.75 13.0469H6.25V10.7969H3.75V13.0469ZM1 10.2969H3.25V7.79687H1V10.2969ZM3.75 10.2969H6.25V7.79687H3.75V10.2969ZM1 7.29687H3.25V5.04688H1V7.29687ZM6.75 13.0469H9.25V10.7969H6.75V13.0469ZM3.75 7.29687H6.25V5.04688H3.75V7.29687ZM9.75 13.0469H12V10.7969H9.75V13.0469ZM6.75 10.2969H9.25V7.79687H6.75V10.2969ZM4 3.54687V1.29687C4 1.22917 3.97396 1.17187 3.92188 1.125C3.875 1.07292 3.81771 1.04687 3.75 1.04687H3.25C3.18229 1.04687 3.1224 1.07292 3.07031 1.125C3.02344 1.17187 3 1.22917 3 1.29687V3.54687C3 3.61458 3.02344 3.67448 3.07031 3.72656C3.1224 3.77344 3.18229 3.79687 3.25 3.79687H3.75C3.81771 3.79687 3.875 3.77344 3.92188 3.72656C3.97396 3.67448 4 3.61458 4 3.54687ZM9.75 10.2969H12V7.79687H9.75V10.2969ZM6.75 7.29687H9.25V5.04688H6.75V7.29687ZM9.75 7.29687H12V5.04688H9.75V7.29687ZM10 3.54687V1.29687C10 1.22917 9.97396 1.17187 9.92188 1.125C9.875 1.07292 9.81771 1.04687 9.75 1.04687H9.25C9.18229 1.04687 9.1224 1.07292 9.07031 1.125C9.02344 1.17187 9 1.22917 9 1.29687V3.54687C9 3.61458 9.02344 3.67448 9.07031 3.72656C9.1224 3.77344 9.18229 3.79687 9.25 3.79687H9.75C9.81771 3.79687 9.875 3.77344 9.92188 3.72656C9.97396 3.67448 10 3.61458 10 3.54687ZM13 3.04687V13.0469C13 13.3177 12.901 13.5521 12.7031 13.75C12.5052 13.9479 12.2708 14.0469 12 14.0469H1C0.729167 14.0469 0.494792 13.9479 0.296875 13.75C0.0989583 13.5521 0 13.3177 0 13.0469V3.04687C0 2.77604 0.0989583 2.54167 0.296875 2.34375C0.494792 2.14583 0.729167 2.04687 1 2.04687H2V1.29687C2 0.953124 2.1224 0.658853 2.36719 0.414062C2.61198 0.16927 2.90625 0.046874 3.25 0.046874H3.75C4.09375 0.046874 4.38802 0.16927 4.63281 0.414062C4.8776 0.658853 5 0.953124 5 1.29687V2.04687H8V1.29687C8 0.953124 8.1224 0.658853 8.36719 0.414062C8.61198 0.16927 8.90625 0.046874 9.25 0.046874H9.75C10.0938 0.046874 10.388 0.16927 10.6328 0.414062C10.8776 0.658853 11 0.953124 11 1.29687V2.04687H12C12.2708 2.04687 12.5052 2.14583 12.7031 2.34375C12.901 2.54167 13 2.77604 13 3.04687Z" fill="currentColor"/>
                                                    </svg>
                                                </span>
                                                 <span class="listing__details--meta__text">{{ hall.uploaded }}</span>
                                            </li>
                                            <li>
                                                <span class="listing__details--meta__icon">
                                                    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="20" height="20" viewBox="0 0 24 24"><path d="M15 12c0 1.654-1.346 3-3 3s-3-1.346-3-3 1.346-3 3-3 3 1.346 3 3zm9-.449s-4.252 8.449-11.985 8.449c-7.18 0-12.015-8.449-12.015-8.449s4.446-7.551 12.015-7.551c7.694 0 11.985 7.551 11.985 7.551zm-7 .449c0-2.757-2.243-5-5-5s-5 2.243-5 5 2.243 5 5 5 5-2.243 5-5z"/></svg>                                                     
                                                </span>
                                                 <span class="listing__details--meta__text">{{ hall.view_count }} marta</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="listing__details--content__step">
                                    <h2 class="listing__details--title mb-25">{{ hall.name }}</h2>
                                    <div class="listing__details--price__id d-flex align-items-center">
                                        <div class="listing__details--price d-flex">
                                            <span class="listing__details--price__new">{{ hall.price|intcomma }} so'm</span>
                                            <!-- <span class="listing__details--price__old">$16000</span> -->
                                        </div>
                                        <span class="listing__details--property__id">Zal ID: {{ hall.id }}</span>
                                    </div>
                                    <p class="listing__details--location__text"><svg width="11" height="17" viewBox="0 0 11 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5.48287 0C2.45013 0 0 2.4501 0 5.48288C0 5.85982 0.0343013 6.21958 0.102785 6.57945C0.514031 9.69783 4.42055 11.9767 5.51712 16.4144C6.5966 12.0452 11 8.824 11 5.48288H10.9657C10.9657 2.45013 8.51548 0 5.48282 0H5.48287ZM5.48287 2.17592C7.21338 2.17592 8.61839 3.58097 8.61839 5.31144C8.61839 7.04191 7.21335 8.44696 5.48287 8.44696C3.7524 8.44696 2.34736 7.04191 2.34736 5.31144C2.34736 3.58097 3.75228 2.17592 5.48287 2.17592Z" fill="#FA4B4A"/>
                                        </svg>
                                        {{ hall.location }}
                                    </p>
                                </div>
                            </div>
                            <div class="listing__details--main__content">
                                <div class="listing__details--content__step mb-80">
                                    <h3 class="listing__details--content__title">Tavsif:</h3>
                                    <p class="listing__details--content__desc">{{ hall.description }}</p>
                                    <div class="apartment__info listing__d--info">
                                        <div class="apartment__info--wrapper d-flex">
                                            <div class="apartment__info--list">
                                                <span class="apartment__info--icon">
                                                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 128 128" width="50px" xml:space="preserve"><style>.st2{fill:#005086}.st3{fill:#eabfa2}</style><path d="M80.9 47.3c0 2.8-.7 5.6-2 8-4.5 8.2-14.8 11.3-23 6.8-2.9-1.6-5.2-3.9-6.8-6.8-1.3-2.5-2-5.2-2-8 0-.4 0-.9.1-1.3.8-9.3 9-16.3 18.3-15.5 8.3.7 14.8 7.2 15.5 15.5-.1.4-.1.9-.1 1.3z" style="fill:#f7d6bf"/><path d="M89.8 88.2v9.4H38.2v-9.4c0-13.2 10.7-24 24-24h3.6c13.3 0 24 10.7 24 24z" style="fill:#318fb5"/><path class="st2" d="M46 70.4c-5 4.5-7.9 11-7.8 17.8v7.1H13.7V89c0-11.9 9.6-21.5 21.5-21.5 3.8-.1 7.5 1 10.8 2.9z"/><path class="st3" d="M49.1 55.3c-1.1 7.7-8.2 13.1-15.9 12s-13.1-8.2-12-15.9c1.1-7.7 8.2-13.1 15.9-12 4.1.6 7.8 3 10 6.5 0 .4-.1.9-.1 1.3.1 2.9.8 5.7 2.1 8.1z"/><path class="st2" d="M114.3 88.9v6.3H89.8v-7.1c0-6.8-2.8-13.2-7.9-17.8 10.2-6 23.4-2.6 29.4 7.6 2 3.4 3 7.2 3 11z"/><path class="st3" d="M107 53.4c0 7.8-6.3 14.1-14.1 14.1-7.1 0-13-5.2-14-12.2 1.3-2.5 2-5.2 2-8 0-.4 0-.9-.1-1.3 4.1-6.6 12.8-8.6 19.4-4.5 4.2 2.6 6.7 7 6.8 11.9z"/><path d="M77.4 97.6c0 1-.8 1.7-1.8 1.8H74c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8h1.6c1 0 1.8.8 1.8 1.8zm38.7-8.7v6.3c0 1-.8 1.8-1.8 1.8H91.6v.6c0 1-.8 1.7-1.8 1.8h-6.7c-1 0-1.8-.8-1.8-1.8s.8-1.8 1.8-1.8H88v-7.6C88 75.9 78 66 65.8 66h-3.6C49.9 66 40 76 40 88.2v7.7h26c1 0 1.8.8 1.8 1.8s-.8 1.8-1.8 1.8H38.2c-1 0-1.7-.8-1.8-1.8V97H13.7c-1 0-1.8-.8-1.8-1.8v-6.3c0-9.8 6.1-18.5 15.3-21.8-2.6-1.5-4.7-3.7-6.1-6.3-.5-.9-.1-1.9.7-2.4.9-.5 1.9-.1 2.4.7 3.2 6 10.7 8.3 16.7 5.1 3.3-1.8 5.6-4.9 6.3-8.6-1.4-2.7-2.1-6-1.9-9.2-3.9-5.6-11.6-7-17.2-3.2-3.3 2.3-5.3 6.1-5.4 10.1 0 1-.8 1.8-1.8 1.8s-1.8-.8-1.8-1.8c0-8.8 7.2-15.8 15.9-15.8 4.1 0 7.9 1.6 10.9 4.4 3-9.9 13.4-15.5 23.3-12.5 6 1.8 10.7 6.5 12.5 12.5 6.3-6.1 16.3-5.9 22.4.4s5.9 16.3-.4 22.4c-.9.9-2 1.7-3.1 2.4 9.4 3.3 15.5 12 15.5 21.8zM82.7 46.5c.1 3-.5 6.3-1.9 9.2 1.2 6.7 7.6 11.1 14.3 9.9 6.7-1.2 11.1-7.6 9.9-14.3s-7.6-11.1-14.3-9.9c-3.3.5-6.2 2.3-8 5.1zm-33.9.8c0 8.4 6.9 15.2 15.3 15.1 9.3 0 14.6-7.4 15.1-14.2.6-9-7.1-16.8-16.5-16-8 .8-13.9 7.5-13.9 15.1zM36.4 93.5v-5.3c0-6.6 2.7-13.1 6.7-17.3-13.1-5.8-27.7 3.8-27.7 18v4.6h21zm18.4-30c-1.9-1.1-3.6-2.5-5-4.1-1.3 3.2-3.7 5.9-6.8 7.7 1 .4 1.9.8 2.8 1.2 2.7-2.2 5.7-3.8 9-4.8zm18.4 0c3.3 1 6.3 2.6 9 4.8.9-.5 1.9-.9 2.8-1.2-3-1.7-5.4-4.4-6.8-7.7-1.4 1.7-3.1 3.1-5 4.1zm39.4 25.4c0-10.9-8.8-19.7-19.7-19.7-2.7 0-5.5.6-8 1.7 3.8 4.1 6.7 10.5 6.7 17.3v5.3h21v-4.6z" style="fill:#172956"/></svg>
                                                </span>
                                                <p>
                                                    <span class="apartment__info--count">{{ hall.capacity }}</span>
                                                    <span class="apartment__info--title">Odam sig'imi</span>
                                                </p>
                                            </div>
                                            <div class="apartment__info--list">
                                                <span class="apartment__info--icon"><img src="{% static 'assets/img/icon/set-square.png' %}" alt="img"></span>
                                                <p>
                                                    <span class="apartment__info--count">{{ hall.size }}</span>
                                                    <span class="apartment__info--title">Sahna, m<sup>2</sup></span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="listing__details--content__step mb-80">
                                    <div class="listing__details--location__header d-flex justify-content-between mb-40">
                                        <div class="listing__details--location__header--left">
                                            <h3 class="listing__details--content__title m-0">Manzil & Google Maps</h3>
                                        </div>
                                        <div class="location__google--maps {% if hall.google_map %}{% else %}disabled{% endif %}">
                                            <details>
                                                <summary>Google Maps da ochish</summary>
                                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d20227915.86434928!2d1.2189515269861546!3d38.76296158058813!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6f73e994d3fb5891%3A0x783ff0a076fdb99!2sCosing%20Connect%20Ltd%2C%20United%20Kingdom!5e0!3m2!1sen!2sbd!4v1699676848803!5m2!1sen!2sbd" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                            </details>
                                        </div>
                                    </div>
                                    <div class="location__google--maps__info d-flex">
                                        <ul class="location__google--maps__info--step">
                                            <li class="location__google--maps__info--list d-flex">
                                                <span class="location__google--maps__info--title">Adres:</span>
                                                <span class="location__google--maps__info--subtitle">{{ hall.address }}</span>
                                            </li>
                                            <li class="location__google--maps__info--list d-flex">
                                                <span class="location__google--maps__info--title">Viloyat/Shahar:</span>
                                                <span class="location__google--maps__info--subtitle">{{ hall.region.name }}</span>
                                            </li>
                                        </ul>
                                        <ul class="location__google--maps__info--step">
                                            <li class="location__google--maps__info--list d-flex">
                                                <span class="location__google--maps__info--title">Tuman/Shahar:</span>
                                                <span class="location__google--maps__info--subtitle">{{ hall.district.name }}</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="listing__widget">

                            <div class="widget__step mb-30">
                                <h2 class="widget__step--title">Zal ma'lumotlari</h2>
                                <div>
                                    <ul class="d-flex flex-wrap">
                                        <li class="d-flex justify-content-between d-flex col-12 mb-20">
                                            <span class="properties__details--info__title">Rahbar:</span>
                                            <span class="properties__details--info__subtitle">{{ hall.director }}</span>
                                        </li>
                                        <li class="d-flex justify-content-between d-flex col-12 mb-20">
                                            <span class="properties__details--info__title">INN:</span>
                                            <span class="properties__details--info__subtitle">{{ hall.inn }}</span>
                                        </li>
                                        <li class="d-flex justify-content-between d-flex col-12">
                                            <span class="properties__details--info__title">Telefon raqam:</span>
                                            <span class="properties__details--info__subtitle">{{ hall.phone_number }}</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            {% include "components/contact__form.html" with hall=hall %}

                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Listing page section . -->

    {% include "footer.html" %}
    </main>

{% endblock content %}